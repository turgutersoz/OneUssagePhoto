(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{3672:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(5155),s=r(2115),l=r(7260),n=r(7884),d=r(1392);function o(){let e=(0,l.useParams)(),[t,r]=(0,s.useState)(null),[o,i]=(0,s.useState)(!0),[c,m]=(0,s.useState)(null),[x,u]=(0,s.useState)(!1);(0,n.m)(),(0,d.d)(),(0,s.useEffect)(()=>{let e=e=>(e.preventDefault(),!1),t=e=>{if(e.ctrlKey&&"s"===e.key||e.ctrlKey&&e.shiftKey&&"S"===e.key||"F12"===e.key||e.ctrlKey&&e.shiftKey&&"I"===e.key||e.ctrlKey&&"u"===e.key)return e.preventDefault(),!1},r=e=>(e.preventDefault(),!1),a=e=>(e.preventDefault(),!1),s=e=>(e.preventDefault(),!1);return document.addEventListener("contextmenu",e),document.addEventListener("keydown",t),document.addEventListener("dragstart",r),document.addEventListener("copy",a),document.addEventListener("selectstart",s),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.msUserSelect="none",document.body.style.mozUserSelect="none",()=>{document.removeEventListener("contextmenu",e),document.removeEventListener("keydown",t),document.removeEventListener("dragstart",r),document.removeEventListener("copy",a),document.removeEventListener("selectstart",s)}},[]),(0,s.useEffect)(()=>{e.id&&y(e.id)},[e.id]);let y=async e=>{try{let t=await fetch("/api/photos/".concat(e,"/view"));if(t.ok){let e=await t.json();r(e.photo),u(!0)}else 404===t.status?m("Fotoğraf bulunamadı veya zaten silinmiş."):410===t.status?m("Bu fotoğraf artık g\xf6r\xfcnt\xfclenemez."):m("Fotoğraf y\xfcklenirken bir hata oluştu.")}catch(e){m("Fotoğraf y\xfcklenirken bir hata oluştu.")}finally{i(!1)}};return o?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Fotoğraf y\xfckleniyor..."})]})}):c?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-4 text-center",children:[(0,a.jsx)("div",{className:"text-6xl text-red-400 mb-4",children:"❌"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Hata Oluştu"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:c}),(0,a.jsx)("a",{href:"/",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"Ana Sayfaya D\xf6n"})]})}):t?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[x&&(0,a.jsx)("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:"⚠️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-yellow-800 dark:text-yellow-200 font-medium",children:"Bu fotoğraf bir kez g\xf6r\xfcnt\xfclendi ve artık erişilemez!"}),(0,a.jsx)("p",{className:"text-yellow-700 dark:text-yellow-300 text-sm mt-1",children:"Fotoğraf artık g\xf6r\xfcnt\xfclenemez."})]})]})}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:t.originalName}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("span",{children:["Y\xfcklenme: ",new Date(t.uploadedAt).toLocaleString("tr-TR")]}),(0,a.jsxs)("span",{children:["Boyut: ",(t.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,a.jsx)("div",{className:"p-6",children:t.imageData?(0,a.jsxs)("div",{className:"text-center photo-container",children:[(0,a.jsx)("img",{src:"data:".concat(t.mimeType,";base64,").concat(t.imageData),alt:t.originalName,className:"max-w-full h-auto mx-auto rounded-lg shadow-lg image-wrapper",style:{maxHeight:"70vh"},draggable:"false",onContextMenu:e=>e.preventDefault()}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-4 text-sm",children:"Bu fotoğraf bir kez g\xf6r\xfcnt\xfclendi ve artık erişilemez."})]}):(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-6xl text-gray-400 mb-4",children:"\uD83D\uDDBC️"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Bu fotoğraf artık g\xf6r\xfcnt\xfclenemez \xe7\xfcnk\xfc bir kez erişildi."})]})})]}),(0,a.jsx)("div",{className:"text-center mt-8",children:(0,a.jsx)("a",{href:"/",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"Yeni Fotoğraf Y\xfckle"})})]})})}):null}},9420:(e,t,r)=>{Promise.resolve().then(r.bind(r,3672))}},e=>{e.O(0,[696,441,255,358],()=>e(e.s=9420)),_N_E=e.O()}]);