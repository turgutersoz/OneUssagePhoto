(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{3672:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(5155),l=a(2115),s=a(7260),n=a(7884),d=a(1392);function i(){let e=(0,s.useParams)(),[t,a]=(0,l.useState)(null),[i,o]=(0,l.useState)(!0),[c,m]=(0,l.useState)(null),[x,u]=(0,l.useState)(!1),[b,g]=(0,l.useState)(5),[y,h]=(0,l.useState)(!1);(0,n.m)(),(0,d.d)(),(0,l.useEffect)(()=>{let e=e=>(e.preventDefault(),!1),t=e=>{if(e.ctrlKey&&"s"===e.key||e.ctrlKey&&e.shiftKey&&"S"===e.key||"F12"===e.key||e.ctrlKey&&e.shiftKey&&"I"===e.key||e.ctrlKey&&"u"===e.key)return e.preventDefault(),!1},a=e=>(e.preventDefault(),!1),r=e=>(e.preventDefault(),!1),l=e=>(e.preventDefault(),!1);return document.addEventListener("contextmenu",e),document.addEventListener("keydown",t),document.addEventListener("dragstart",a),document.addEventListener("copy",r),document.addEventListener("selectstart",l),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.msUserSelect="none",document.body.style.mozUserSelect="none",()=>{document.removeEventListener("contextmenu",e),document.removeEventListener("keydown",t),document.removeEventListener("dragstart",a),document.removeEventListener("copy",r),document.removeEventListener("selectstart",l)}},[]),(0,l.useEffect)(()=>{e.id&&f(e.id)},[e.id]),(0,l.useEffect)(()=>{if(y&&b>0){let e=setInterval(()=>{g(t=>t<=1?(clearInterval(e),setTimeout(()=>{try{window.close()}catch(e){window.location.href="/"}},1e3),0):t-1)},1e3);return()=>clearInterval(e)}},[y,b]);let f=async e=>{try{let t=await fetch("/api/photos/".concat(e,"/view"));if(t.ok){let e=await t.json();a(e.photo),u(!0),h(!0)}else 404===t.status?m("Fotoğraf bulunamadı veya zaten silinmiş."):410===t.status?m("Bu fotoğraf artık g\xf6r\xfcnt\xfclenemez."):m("Fotoğraf y\xfcklenirken bir hata oluştu.")}catch(e){m("Fotoğraf y\xfcklenirken bir hata oluştu.")}finally{o(!1)}};return i?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Fotoğraf y\xfckleniyor..."})]})}):c?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-4 text-center",children:[(0,r.jsx)("div",{className:"text-6xl text-red-400 mb-4",children:"❌"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Hata Oluştu"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:c}),(0,r.jsx)("a",{href:"/",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"Ana Sayfaya D\xf6n"})]})}):t?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[x&&(0,r.jsx)("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:"⚠️"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-yellow-800 dark:text-yellow-200 font-medium",children:"Bu fotoğraf bir kez g\xf6r\xfcnt\xfclendi ve artık erişilemez!"}),(0,r.jsx)("p",{className:"text-yellow-700 dark:text-yellow-300 text-sm mt-1",children:"Fotoğraf artık g\xf6r\xfcnt\xfclenemez."})]})]})}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:t.originalName}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("span",{children:["Y\xfcklenme: ",new Date(t.uploadedAt).toLocaleString("tr-TR")]}),(0,r.jsxs)("span",{children:["Boyut: ",(t.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,r.jsx)("div",{className:"p-6",children:t.imageData?(0,r.jsxs)("div",{className:"text-center photo-container",children:[(0,r.jsx)("img",{src:"data:".concat(t.mimeType,";base64,").concat(t.imageData),alt:t.originalName,className:"max-w-full h-auto mx-auto rounded-lg shadow-lg image-wrapper",style:{maxHeight:"70vh"},draggable:"false",onContextMenu:e=>e.preventDefault()}),y&&(0,r.jsx)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:["⏰ ",b," Saniye"]}),(0,r.jsx)("div",{className:"w-full bg-blue-200 dark:bg-blue-700 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-1000 ease-linear",style:{width:"".concat(b/5*100,"%")}})}),(0,r.jsx)("p",{className:"text-blue-600 dark:text-blue-400 text-sm mt-2",children:"Sayfa 5 saniye sonra otomatik olarak kapanacak"})]})}),(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"⏱️ Kalan S\xfcre"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mb-2",children:b}),(0,r.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-3",children:(0,r.jsx)("div",{className:"bg-red-500 h-3 rounded-full transition-all duration-1000 ease-linear",style:{width:"".concat(b/5*100,"%")}})}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-2",children:"Saniye sonra sayfa kapanacak"})]})}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-4 text-sm",children:"Bu fotoğraf bir kez g\xf6r\xfcnt\xfclendi ve artık erişilemez."})]}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-6xl text-gray-400 mb-4",children:"\uD83D\uDDBC️"}),(0,r.jsx)("p",{className:"text-gray-400 dark:text-gray-400",children:"Bu fotoğraf artık g\xf6r\xfcnt\xfclenemez \xe7\xfcnk\xfc bir kez erişildi."})]})})]}),(0,r.jsx)("div",{className:"text-center mt-8",children:(0,r.jsx)("a",{href:"/",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"Yeni Fotoğraf Y\xfckle"})})]})})}):null}},9420:(e,t,a)=>{Promise.resolve().then(a.bind(a,3672))}},e=>{e.O(0,[696,441,255,358],()=>e(e.s=9420)),_N_E=e.O()}]);