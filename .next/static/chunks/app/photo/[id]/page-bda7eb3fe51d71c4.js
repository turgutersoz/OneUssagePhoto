(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{3672:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var r=t(5155),s=t(2115),l=t(7260);function i(){let e=(0,l.useParams)(),[a,t]=(0,s.useState)(null),[i,d]=(0,s.useState)(!0),[n,o]=(0,s.useState)(null),[c,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{e.id&&m(e.id)},[e.id]);let m=async e=>{try{let a=await fetch("/api/photos/".concat(e,"/view"));if(a.ok){let e=await a.json();t(e.photo),x(!0)}else 404===a.status?o("Fotoğraf bulunamadı veya zaten silinmiş."):o("Fotoğraf y\xfcklenirken bir hata oluştu.")}catch(e){o("Fotoğraf y\xfcklenirken bir hata oluştu.")}finally{d(!1)}};return i?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Fotoğraf y\xfckleniyor..."})]})}):n?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 text-center max-w-md mx-4",children:[(0,r.jsx)("div",{className:"text-6xl text-red-400 mb-4",children:"❌"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Hata"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:n}),(0,r.jsx)("a",{href:"/",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"Ana Sayfaya D\xf6n"})]})}):a?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[c&&(0,r.jsx)("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:"⚠️"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-yellow-800 dark:text-yellow-200 font-medium",children:"Bu fotoğraf bir kez g\xf6r\xfcnt\xfclendi ve artık erişilemez!"}),(0,r.jsx)("p",{className:"text-yellow-700 dark:text-yellow-300 text-sm mt-1",children:"Fotoğraf otomatik olarak sunucudan silindi."})]})]})}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a.originalName}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,r.jsxs)("span",{children:["Y\xfcklenme: ",new Date(a.uploadedAt).toLocaleString("tr-TR")]}),(0,r.jsxs)("span",{children:["Boyut: ",(a.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,r.jsx)("div",{className:"p-6",children:a.imageData?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("img",{src:"data:".concat(a.mimeType,";base64,").concat(a.imageData),alt:a.originalName,className:"max-w-full h-auto mx-auto rounded-lg shadow-lg",style:{maxHeight:"70vh"}}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-4 text-sm",children:"Bu fotoğraf bir kez g\xf6r\xfcnt\xfclendi ve sunucudan silindi."})]}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-6xl text-gray-400 mb-4",children:"\uD83D\uDDBC️"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Bu fotoğraf artık g\xf6r\xfcnt\xfclenemez \xe7\xfcnk\xfc bir kez erişildi ve silindi."})]})})]}),(0,r.jsx)("div",{className:"text-center mt-8",children:(0,r.jsx)("a",{href:"/",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"Yeni Fotoğraf Y\xfckle"})})]})})}):null}},9420:(e,a,t)=>{Promise.resolve().then(t.bind(t,3672))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9420)),_N_E=e.O()}]);